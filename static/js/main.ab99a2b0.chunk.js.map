{"version":3,"sources":["components/Book/Book.module.css","components/Navbar/Navbar.module.css","components/Field/TextField.module.css","components/Button/Button.module.css","hooks/useLocalStorage.ts","hooks/useBook.ts","utils/dataNormalization.ts","utils/generation.ts","hooks/useForm.ts","components/Book/assets/index.tsx","components/Book/Book.tsx","pages/Home.tsx","components/Field/TextField.tsx","components/Button/Button.tsx","page-components/FormPageComponent.tsx","utils/encodeFIleBase64.ts","pages/Create.tsx","pages/NotFound.tsx","pages/Edit.tsx","components/Navbar/assets/Search.tsx","components/Navbar/Navbar.tsx","App.tsx","index.tsx"],"names":["module","exports","useLocalStorage","key","initialValue","useState","error","setError","window","localStorage","getItem","item","setItem","useEffect","console","log","message","useBook","books","useMemo","value","JSON","parse","Array","stringToBooks","change","stringify","booksToString","createBook","useCallback","formData","_id","Math","random","toString","substring","updateBook","bookId","updatedBooks","map","b","deleteBook","filter","findBookById","find","useForm","initialValues","onSubmit","minLength","dynamicValidation","values","setValues","isSubmitted","setIsSubmitted","errors","Object","keys","forEach","handleChange","e","name","target","prev","length","handleSubmit","preventDefault","isError","undefined","Logo","className","type","onClick","tabIndex","height","viewBox","width","fill","d","logo","Book","previewImage","title","author","styles","book","image","src","alt","content","text","to","cn","settingsLogo","clearLogo","Home","location","useLocation","filteredBooks","queryString","search","includes","TextField","label","onChange","props","textField","formNoValidate","input","placeholder","Button","buttonWrapper","button","FormPageComponent","titlePage","buttonText","uploadFile","encodeFileBase64","file","callback","reader","FileReader","readAsDataURL","onload","Base64","result","onerror","Create","setFile","history","useHistory","form","a","push","files","NotFound","Edit","editMethod","EditContainer","params","useParams","selectedBook","Search","xmlns","Navbar","inputRef","useRef","current","wrapper","navbar","link","active","pathname","searchWrapper","ref","onKeyDown","code","App","exact","component","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab99a2b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__rWlWm\",\"content\":\"Book_content__xXGTV\",\"image\":\"Book_image__30RUi\",\"text\":\"Book_text__24q-X\",\"logo\":\"Book_logo__1Dw6C\",\"settingsLogo\":\"Book_settingsLogo__2DgB6\",\"clearLogo\":\"Book_clearLogo__1Yfao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Navbar_wrapper__11sKq\",\"navbar\":\"Navbar_navbar__1yKoB\",\"link\":\"Navbar_link__3IBGn\",\"active\":\"Navbar_active__25V4-\",\"searchWrapper\":\"Navbar_searchWrapper__2Negj\",\"search\":\"Navbar_search__xBlJU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textField\":\"TextField_textField__2WMoS\",\"input\":\"TextField_input__3GgJn\",\"isError\":\"TextField_isError__14ZJM\",\"title\":\"TextField_title__sK0f7\",\"error\":\"TextField_error__2p3-U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWrapper\":\"Button_buttonWrapper__3nkZv\",\"button\":\"Button_button__23uxh\"};","import { useEffect, useState } from 'react'\r\n\r\ninterface ReturnType {\r\n    item: any\r\n    error: string\r\n    setItem: (value: string) => void\r\n}\r\n\r\nconst useLocalStorage = (key: string, initialValue: any): ReturnType => {\r\n    const [error, setError] = useState<string>('')\r\n    const [item, setItem] = useState<any>(() => {\r\n        return window.localStorage.getItem(key) || initialValue\r\n    })\r\n\r\n    useEffect(() => {\r\n        try {\r\n            window.localStorage.setItem(key, item)\r\n        } catch (error) {\r\n            console.log(error.message)\r\n            setError(error.message)\r\n        }\r\n    }, [item, key])\r\n\r\n    return {\r\n        item,\r\n        setItem,\r\n        error,\r\n    }\r\n}\r\n\r\nexport default useLocalStorage\r\n","import useLocalStorage from './useLocalStorage'\nimport { useCallback, useMemo } from 'react'\nimport { Book, FormDataBook } from '../types'\nimport { booksToString, stringToBooks } from '../utils/dataNormalization'\nimport { generationID } from '../utils/generation'\n\nconst useBook = () => {\n    const { item, setItem, error } = useLocalStorage('books', [])\n\n    const books = useMemo<Book[]>(() => {\n        return stringToBooks(item)\n    }, [item])\n\n    const change = (books: Book[]): void => {\n        const value: string = booksToString(books)\n        setItem(value)\n    }\n\n    // ---- ----- CREATE ----- ----\n    const createBook = useCallback(\n        (formData: FormDataBook): void => {\n            const createBook: Book = {\n                ...formData,\n                _id: generationID(),\n            }\n            change([...books, createBook])\n        },\n        [item],\n    )\n\n    // ---- ----- UPDATE ----- ----\n    const updateBook = useCallback(\n        (formData: FormDataBook, bookId: string): void => {\n            const updatedBooks = books.map((b) => {\n                if (b._id === bookId) {\n                    return {\n                        ...b,\n                        ...formData,\n                    }\n                }\n                return b\n            })\n            change(updatedBooks)\n        },\n        [item],\n    )\n\n    // ---- ----- DELETE ----- ----\n    const deleteBook = useCallback(\n        (bookId: string): void => {\n            const updatedBooks = books.filter((b) => b._id !== bookId)\n            change(updatedBooks)\n        },\n        [item],\n    )\n\n    // ---- ----- FIND BOOK BY ID ----- ----\n    const findBookById = (bookId: string): Book | null => {\n        return books.find((b) => b._id === bookId) || null\n    }\n\n    return {\n        error,\n        books,\n        createBook,\n        updateBook,\n        deleteBook,\n        findBookById,\n    }\n}\n\nexport default useBook\n","import { Book } from '../types'\r\n\r\nexport const stringToBooks = (value: string): Book[] => {\r\n    if (typeof value === 'undefined') {\r\n        return []\r\n    }\r\n    try {\r\n        const books = JSON.parse(value)\r\n        if (books instanceof Array) {\r\n            // глубокая проверка?\r\n            return books as Book[]\r\n        }\r\n        return []\r\n    } catch (error) {\r\n        console.log(error.message)\r\n        return []\r\n    }\r\n}\r\n\r\nexport const booksToString = (books: Book[]): string => {\r\n    return JSON.stringify(books)\r\n}\r\n","export const generationID = (): string => Math.random().toString(36).substring(3)\r\n","import React, { useState } from 'react'\n\ninterface FormReturnType<T extends object> {\n    values: T\n    handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void\n    handleSubmit: (e: React.FormEvent) => void\n    error: Record<keyof T, string>\n}\n\ninterface FormConfigType<T extends object> {\n    initialValues: T\n    onSubmit: (values: T) => void\n    schema?: unknown\n    minLength?: number\n    dynamicValidation?: boolean\n}\n\nconst useForm = <T extends object>({\n    initialValues,\n    onSubmit,\n    minLength = 6,\n    dynamicValidation = true,\n}: FormConfigType<T>): FormReturnType<T> => {\n    const [values, setValues] = useState<T>(initialValues)\n    const [isSubmitted, setIsSubmitted] = useState<boolean>(false)\n    const [error, setError] = useState<Record<keyof T, string>>(() => {\n        const errors: any = {}\n        Object.keys(values).forEach((key) => {\n            errors[key] = ''\n        })\n        return errors\n    })\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const name = e.target.name\n        const value = e.target.value\n\n        setValues((prev) => {\n            return { ...prev, [name]: value }\n        })\n\n        // Валидация на коленке\n        if (isSubmitted && dynamicValidation) {\n            const error =\n                value.length < minLength ? `Длина поля ${name} меньше ${minLength} символов` : null\n            setError((prev) => {\n                return { ...prev, [name]: error }\n            })\n        }\n    }\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault()\n\n        let isError = false\n        if (!isSubmitted) {\n            setIsSubmitted(true)\n        }\n        // валидация\n        Object.keys(values).forEach((key) => {\n            //@ts-ignore\n            const value: string = values[key] as string\n            if (value !== undefined && value.length < minLength) {\n                isError = true\n                const error = `Длина поля ${key} меньше ${minLength} символов`\n                setError((prev) => {\n                    return { ...prev, [key]: error }\n                })\n            }\n        })\n        if (isError) {\n            return\n        }\n\n        // прошло валюдацию\n        onSubmit(values)\n    }\n\n    return {\n        values,\n        handleChange,\n        handleSubmit,\n        error,\n    }\n}\n\nexport default useForm\n","import React from 'react'\n\ninterface LogoType {\n    className: string | undefined\n    type: 'clear' | 'settings'\n    onClick?: Function\n}\n\nconst Logo = ({ className, type, onClick }: LogoType) => {\n    const logo = () => {\n        switch (type) {\n            case 'clear':\n                return (\n                    <>\n                        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n                        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\n                    </>\n                )\n            case 'settings':\n                return (\n                    <>\n                        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n                        <path d=\"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\" />\n                    </>\n                )\n        }\n    }\n\n    return (\n        <svg\n            tabIndex={4}\n            onClick={() => onClick && onClick()}\n            className={className}\n            height=\"24px\"\n            viewBox=\"0 0 24 24\"\n            width=\"24px\"\n            fill=\"#000000\">\n            {logo()}\n        </svg>\n    )\n}\n\nexport default Logo\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Book as BookType } from '../../types'\nimport styles from './Book.module.css'\nimport Logo from './assets/index'\nimport cn from 'classnames'\n\ninterface BookComponentType extends BookType {\n    deleteBook: (bookId: string) => void\n}\n\nconst Book = ({ _id, previewImage, title, author, deleteBook }: BookComponentType): JSX.Element => {\n    const defaultImage =\n        'https://phonoteka.org/uploads/posts/2021-04/1618912699_7-phonoteka_org-p-krasivii-fon-dlya-oblozhki-knigi-10.jpg'\n\n    const handleDelete = () => {\n        deleteBook(_id)\n    }\n\n    return (\n        <div className={styles.book}>\n            <div className={styles.image}>\n                <img src={previewImage || defaultImage} alt=\"Картинка\" />\n            </div>\n            <div className={styles.content}>\n                <div className={styles.text}>\n                    <span>Title</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <Link tabIndex={4} to={`/?search_title=${title}`}>\n                        {title}\n                    </Link>\n                </div>\n                <div className={styles.text}>\n                    <span>Author</span> &nbsp;&nbsp;\n                    <Link tabIndex={4} to={`/?search_author=${author}`}>\n                        {author}\n                    </Link>\n                </div>\n            </div>\n            <Link to={`/edit/${_id}`}>\n                <Logo type=\"settings\" className={cn(styles.logo, styles.settingsLogo)} />\n            </Link>\n            <Logo\n                onClick={handleDelete}\n                type=\"clear\"\n                className={cn(styles.logo, styles.clearLogo)}\n            />\n        </div>\n    )\n}\n\nexport default Book\n","import React, { useMemo } from 'react'\nimport { Book as BookType } from '../types/index'\nimport { useBook } from '../hooks'\nimport Book from '../components/Book/Book'\nimport { useLocation } from 'react-router-dom'\nimport queryString from 'query-string'\n\nconst Home = () => {\n    const { books, deleteBook } = useBook()\n    const location = useLocation()\n\n    const filteredBooks = useMemo<BookType[]>(() => {\n        const parse = queryString.parse(location.search)\n        return books.filter((b) => {\n            if ('search' in parse) {\n                const text = parse['search'] as string\n                return b.author.includes(text) || b.title.includes(text)\n            }\n\n            if ('search_author' in parse) {\n                const text = parse['search_author'] as string\n                return b.author.includes(text)\n            }\n\n            if ('search_title' in parse) {\n                const text = parse['search_title'] as string\n                return b.title.includes(text)\n            }\n\n            return true\n        })\n    }, [location.search, books])\n\n    return (\n        <div className=\"container\">\n            <div className=\"books\">\n                {books &&\n                    filteredBooks.map((b) => {\n                        return <Book key={b._id} {...b} deleteBook={deleteBook} />\n                    })}\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React, { DetailedHTMLProps, HTMLAttributes } from 'react'\r\nimport styles from './TextField.module.css'\r\nimport cn from 'classnames'\r\n\r\ninterface TextFieldPropsType\r\n    extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n    name: string\r\n    label: string\r\n    value: string\r\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void\r\n    error: string | null\r\n}\r\n\r\nconst TextField = ({\r\n    error,\r\n    label,\r\n    name,\r\n    onChange,\r\n    value,\r\n    className,\r\n    ...props\r\n}: TextFieldPropsType): JSX.Element => {\r\n    return (\r\n        <div {...props} className={cn(styles.textField, className)}>\r\n            <div className={styles.title}>{label}</div>\r\n            <input\r\n                formNoValidate={true}\r\n                className={cn(styles.input, {\r\n                    [styles.isError]: error,\r\n                })}\r\n                type=\"text\"\r\n                name={name}\r\n                placeholder={label}\r\n                value={value}\r\n                onChange={onChange}\r\n            />\r\n            <div className={styles.error}>{error && error}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TextField\r\n","import React, { DetailedHTMLProps, HTMLAttributes } from 'react'\nimport styles from './Button.module.css'\nimport cn from 'classnames'\n\ninterface ButtonType extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n    text: string\n}\n\nconst Button = ({ text, className }: ButtonType): JSX.Element => {\n    return (\n        <div className={cn(styles.buttonWrapper, className)}>\n            <button className={styles.button}>{text}</button>\n        </div>\n    )\n}\n\nexport default Button\n","import React from 'react'\nimport TextField from '../components/Field/TextField'\nimport Button from '../components/Button/Button'\nimport { FormDataType } from '../types'\n\ninterface PropsType {\n    values: FormDataType\n    handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void\n    handleSubmit: (e: React.FormEvent) => void\n    error: Record<keyof FormDataType, string>\n    titlePage: string\n    buttonText?: string\n    uploadFile: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst FormPageComponent = ({\n    error,\n    handleChange,\n    handleSubmit,\n    values,\n    titlePage,\n    buttonText = 'Create',\n    uploadFile,\n}: PropsType): JSX.Element => {\n    return (\n        <div className=\"form\">\n            <div className=\"titlePage\">{titlePage}</div>\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    name=\"title\"\n                    label=\"Title\"\n                    value={values.title}\n                    onChange={handleChange}\n                    error={error.title}\n                />\n                <TextField\n                    name=\"author\"\n                    label=\"Author\"\n                    value={values.author}\n                    onChange={handleChange}\n                    error={error.author}\n                />\n                <div>\n                    <input type=\"file\" name=\"image-file\" onChange={uploadFile} />\n                </div>\n                <Button text={buttonText} />\n            </form>\n        </div>\n    )\n}\n\nexport default FormPageComponent\n","type Type = (file: File, callback: (base: string) => void) => void\n\nconst encodeFileBase64: Type = (file, callback) => {\n    try {\n        const reader = new FileReader()\n        if (file) {\n            reader.readAsDataURL(file)\n            reader.onload = () => {\n                const Base64 = reader.result\n                callback(Base64 as string)\n            }\n            reader.onerror = (error) => {\n                console.log('error: ', error)\n            }\n        }\n    } catch (e) {\n        console.log(e.message)\n    }\n}\n\nexport default encodeFileBase64\n","import React, { useState } from 'react'\nimport { useBook, useForm } from '../hooks'\nimport { FormDataType } from '../types'\nimport FormPageComponent from '../page-components/FormPageComponent'\nimport { useHistory } from 'react-router-dom'\nimport encodeFileBase64 from '../utils/encodeFIleBase64'\n\nconst Create = () => {\n    const { createBook } = useBook()\n    const [file, setFile] = useState<string | undefined>()\n    const history = useHistory()\n    const form = useForm<FormDataType>({\n        initialValues: {\n            author: '',\n            title: '',\n        },\n        onSubmit: async (values) => {\n            values.previewImage = file\n            await createBook(values)\n            history.push('/')\n        },\n    })\n\n    // зарефакторить\n    const uploadFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const files = e.target.files\n        if (files) {\n            encodeFileBase64(files[0], setFile)\n        }\n    }\n\n    return <FormPageComponent {...form} titlePage=\"Create\" uploadFile={uploadFile} />\n}\n\nexport default Create\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return <div>NotFound</div>\r\n}\r\n\r\nexport default NotFound\r\n","import React, { useState } from 'react'\nimport { useBook, useForm } from '../hooks'\nimport { Book, FormDataType } from '../types'\nimport FormPageComponent from '../page-components/FormPageComponent'\nimport { useHistory, useParams } from 'react-router-dom'\nimport NotFound from './NotFound'\nimport encodeFileBase64 from '../utils/encodeFIleBase64'\n\nconst EditContainer = () => {\n    const { updateBook, findBookById } = useBook()\n    const params = useParams<{ bookId: string }>()\n    const [selectedBook] = useState<Book | null>(() => {\n        return findBookById(params.bookId)\n    })\n\n    return selectedBook ? <Edit book={selectedBook} editMethod={updateBook} /> : <NotFound />\n}\n\ninterface EditPropsType {\n    book: Book\n    editMethod: (formData: FormDataType, bookId: string) => void\n}\n\nconst Edit = ({ book, editMethod }: EditPropsType): JSX.Element => {\n    const history = useHistory()\n    const [file, setFile] = useState<string | undefined>()\n    const form = useForm<FormDataType>({\n        initialValues: {\n            author: book.author,\n            title: book.title,\n            previewImage: book.previewImage,\n        },\n        onSubmit: async (values) => {\n            values.previewImage = file || values.previewImage\n            await editMethod(values, book._id)\n            history.push('/')\n        },\n    })\n\n    // зарефакторить\n    const uploadFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const files = e.target.files\n        if (files) {\n            encodeFileBase64(files[0], setFile)\n        }\n    }\n\n    return (\n        <FormPageComponent {...form} titlePage=\"Edit\" buttonText=\"Edit\" uploadFile={uploadFile} />\n    )\n}\n\nexport default EditContainer\n","import React from 'react'\n\ninterface PropsType {\n    className?: string\n    onClick?: Function\n}\n\nconst Search = ({ className, onClick }: PropsType): JSX.Element => {\n    return (\n        <svg\n            onClick={() => {\n                onClick && onClick()\n            }}\n            className={className}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            height=\"24px\"\n            viewBox=\"0 0 24 24\"\n            width=\"24px\"\n            fill=\"#000000\">\n            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n            <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n        </svg>\n    )\n}\n\nexport default Search\n","import React, { useRef, useState } from 'react'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport styles from './Navbar.module.css'\nimport cn from 'classnames'\nimport Search from './assets/Search'\n\nconst Navbar = () => {\n    const location = useLocation()\n    const inputRef = useRef<HTMLInputElement>(null)\n    const history = useHistory()\n\n    const search = () => {\n        if (inputRef.current !== null) {\n            history.push(`/?search=${inputRef.current.value}`)\n        }\n    }\n\n    const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.code === 'Space' || e.code === 'Enter') {\n            search()\n        }\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <div className=\"container\">\n                <div className={styles.navbar}>\n                    <div className={styles.link}>\n                        <Link\n                            tabIndex={1}\n                            to=\"/\"\n                            className={cn({\n                                [styles.active]: location.pathname === '/',\n                            })}>\n                            Home\n                        </Link>\n                    </div>\n                    <div className={styles.link}>\n                        <Link\n                            tabIndex={2}\n                            to=\"/create\"\n                            className={cn({\n                                [styles.active]: location.pathname === '/create',\n                            })}>\n                            Create\n                        </Link>\n                    </div>\n                    {/* переделать */}\n                    <div className={styles.searchWrapper}>\n                        <Search onClick={() => search()} className={styles.search} />\n                        <input\n                            ref={inputRef}\n                            type=\"text\"\n                            placeholder=\"Search\"\n                            tabIndex={3}\n                            onKeyDown={onKeyDown}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Home from './pages/Home'\nimport Create from './pages/Create'\nimport Edit from './pages/Edit'\nimport NotFound from './pages/NotFound'\nimport Navbar from './components/Navbar/Navbar'\n\nconst App = () => {\n    return (\n        <div className=\"wrapper\">\n            <Navbar/>\n            <Switch>\n                <Route exact component={Home} path=\"/\" />\n                <Route component={Create} path=\"/create\" />\n                <Route component={Edit} path=\"/edit/:bookId\" />\n                <Route exact component={NotFound} path=\"*\" />\n            </Switch>\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}